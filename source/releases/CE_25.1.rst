===========================================================================================
25.1  "Ultimate Unicorn" Series
===========================================================================================



For an entire decade now, OPNsense is driving innovation through
modularising and hardening the open source firewall, with simple
and reliable firmware upgrades, multi-language support, fast adoption
of upstream software updates as well as clear and stable 2-Clause BSD
licensing.

25.1, nicknamed "Ultimate Unicorn", features numerous MVC/API conversions,
improved security zones support and documentation, ZFS snapshot support,
a new UI look with a light and dark theme, PHP 8.3, FreeBSD 14.2 plus much
more.

Download links, an installation guide `[1] <https://docs.opnsense.org/manual/install.html>`__  and the checksums for the images
can be found below as well.

* Europe: https://opnsense.c0urier.net/releases/25.1/
* US East Coast: https://mirror.wdc1.us.leaseweb.net/opnsense/releases/25.1/
* US West Coast: https://mirror.sfo12.us.leaseweb.net/opnsense/releases/25.1/
* South America: http://mirror.ueb.edu.ec/opnsense/releases/25.1/
* East Asia: https://mirror.ntct.edu.tw/opnsense/releases/25.1/
* Full mirror list: https://opnsense.org/download/


--------------------------------------------------------------------------
25.1.12 (July 22, 2025)
--------------------------------------------------------------------------


This EoL release after an EoL release is unexpected, but certainly not
unnecessary.  A bug in the shared library naming in Sqlite was briefly
introduced in FreeBSD ports going into 25.1.11 which is also a likely
cause for reported update issues with missing packages after reboot.
This was only uncovered yesterday during upgrade testing for 25.7.

To ensure proper upgrades it was decided to roll a full stable release
with added benefits like security fixes for Unbound, LibXML and a "modern
browser" fix for the firewall rules page which could not be saved under
particular circumstances.

25.7 itself is still scheduled for tomorrow pending green light during
testing its rebuild.  The firmware components have already been wired to
detect the upgrade once it becomes visible on the mirror.  There will
likely be no further hotfix this time to pick up the release.  Just check
again for updates some hours after the 25.7 release announcement to allow
for mirrors to synchronize.

Here are the full patch notes:

* firmware: add fingerprint and upgrade hint for 25.7
* firmware: upgrade scripts for automatic GDrive, IPsec and OpenVPN legacy plugin installation
* ui: replace self-closing select element (contributed by Gavin Chappell)
* ports: libxml 2.14.5 `[1] <https://gitlab.gnome.org/GNOME/libxml2/-/blob/master/NEWS>`__ 
* ports: sqlite SONAME fix and associated rebuilds `[2] <https://cgit.freebsd.org/ports/commit/?id=25ef3857b8>`__ 
* ports: unbound 1.23.1 `[3] <https://nlnetlabs.nl/projects/unbound/download/#unbound-1-23-1>`__ 



--------------------------------------------------------------------------
25.1.11 (July 16, 2025)
--------------------------------------------------------------------------


This maintenance release will also be the EoL version for the 25.1 series.
It ships the latest FreeBSD SA/EN patches plus other third party security
updates and a few minor fixes.

We did see issues with the "e2fsprogs-libuuid" dependency lately obsoleted
by FreeBSD ports and while packages such as "netdata" may refuse updating
in the first update it should eventually reinstall correctly using the new
"libuuid" package.  If you see related issues make sure you are not using
multi-repo setups that still provide the obsoleted dependency.

That being said, 25.7-RC1 is already out, but RC2 likely follows tomorrow.
We are still set for a final release date of July 23.  See you on the other
side!

Here are the full patch notes:

* system: fix passing "arguments" as parameters for cron jobs
* dnsmasq: fix DomainIPField to allow IP address to be emptied
* dnsmasq: register DHCPv6 firewall rules as well
* dnsmasq: fix empty DHCP option value spawning stray comma
* firmware: remove unbound/duckdb migration script
* lang: further updates
* openvpn: validate group membership after authentication
* unbound: ignore TXT records for wildcard host entries
* plugins: os-stunnel 1.0.6 adds LDAP and NNTP to supported STARTTLS protocols (contributed by Patrick M. Hausen)
* plugins: os-zabbix-agent 1.16 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/net-mgmt/zabbix-agent/pkg-descr>`__ 
* plugins: os-zabbix-proxy 1.13 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/net-mgmt/zabbix-proxy/pkg-descr>`__ 
* src: ifconfig: optimise non-listing case with netlink
* src: xz: fix use-after-free in multi-threaded xz decoder `[3] <https://www.freebsd.org/security/advisories/FreeBSD-SA-25:06.xz.asc>`__ 
* src: ena: fix misconfiguration when requesting regular LLQ `[4] <https://www.freebsd.org/security/advisories/FreeBSD-EN-25:11.ena.asc>`__ 
* src: zfs: fix corruption in ZFS replication streams from encrypted datasets `[5] <https://www.freebsd.org/security/advisories/FreeBSD-EN-25:10.zfs.asc>`__ 
* src: libc: allow __cxa_atexit handlers to be added during __cxa_finalize `[6] <https://www.freebsd.org/security/advisories/FreeBSD-EN-25:09.libc.asc>`__ 
* ports: libxml 2.14.4 `[7] <https://gitlab.gnome.org/GNOME/libxml2/-/blob/master/NEWS>`__ 
* ports: nss 3.113.1 `[8] <https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_113_1.html>`__ 
* ports: openssl 3.0.17 `[9] <https://github.com/openssl/openssl/blob/openssl-3.0/CHANGES.md>`__ 
* ports: php 8.3.23 `[10] <https://www.php.net/ChangeLog-8.php#8.3.23>`__ 
* ports: sqlite 3.50.2 `[11] <https://sqlite.org/releaselog/3_50_2.html>`__ 
* ports: sudo 1.9.17p1 `[12] <https://www.sudo.ws/stable.html#1.9.17p1>`__ 
* ports: suricata 7.0.11 `[13] <https://suricata.io/2025/07/08/suricata-7-0-11-released/>`__ 


--------------------------------------------------------------------------
25.1.10 (July 01, 2025)
--------------------------------------------------------------------------


We are getting close to 25.7.  In fact, the release date is July 23.
As such minimal changes are going into this stable release for the
usual reasons.

Expecting a quick release candidate in two weeks while we piece together
the individual changes that will make the next release series a distinct
step forward: privilege separation capability, latest and greatest FreeBSD
related updates, easier than ever MVC programming experience, a new UI
grid framework named Tabulator etc.

Here are the full patch notes:

* system: reduce future maintenance load in privilege separation efforts
* interfaces: remove unused "friendly" value from get_interface_list()
* interfaces: fix escaping in refactored bridge code
* interfaces: fix bridge SPAN support
* interfaces: add update mode to ifctl
* firewall: fix issue with event binding in rule automation page
* dnsmasq: implement domain type to select between adding domain to range or interface
* dnsmasq: dhcp-host are allowed to have duplicate partial IPv6 addresses
* unbound: improve the chroot mounting code to avoid excessive (un)mount calls
* lang: update language translations to their latest state
* mvc: eventually phase out getCurrentValue() in favour of getValue()
* plugins: os-caddy 2.0.2 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* ports: libxml2 fixes for recent CVEs
* ports: nss 3.113 `[2] <https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_113.html>`__ 
* ports: phpseclib 3.0.46
* ports: py-duckdb 1.3.1 `[3] <https://github.com/duckdb/duckdb/releases/tag/v1.3.1>`__ 
* ports: sudo 1.9.17 `[4] <https://www.sudo.ws/stable.html#1.9.17>`__ 


--------------------------------------------------------------------------
25.1.9 (June 18, 2025)
--------------------------------------------------------------------------


This smallish update brings in more preparation for future features
and reworks and fixes a couple of bugs reported over the last weeks.

The patch size for 25.1.x will likely not increase in future updates
as 25.7 is near: July 23.  Save the date!

Here are the full patch notes:

* system: add minimalistic interface to support SSO authentication
* system: refactor a couple of existing empty() tests to isEmpty()
* system: refactor cache flush into system_cache_flush()
* system: add backend call for returning timezones
* system: fix "weight" default fallback causing non-string return in gateway status
* interfaces: refactor newwanip IPv4/v6 scripts to reduce differences between them
* interfaces: do not call a description a "dmesg"
* interfaces: relax regex for dmesg probing to seamlessly support dmesg timestamps
* firewall: improve address family validation for rule source and destination
* firewall: fix faulty ICMP type evaluation on NAT rules
* dnsmasq: allow AliasesField values to be cleared
* dnsmasq: allow host wildcards in domain overrides again
* ipsec: add aes256-sha1 ESP proposal
* ui: backwards-compatible merge of Tabulator grid replacement changes
* plugins: os-haproxy 4.6 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/net/haproxy/pkg-descr>`__ 
* ports: curl 8.14.1 `[2] <https://curl.se/changes.html#8_14_1>`__ 
* ports: nss 3.112 `[3] <https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_112.html>`__ 
* ports: openldap 2.6.10 `[4] <https://www.openldap.org/software/release/changes.html>`__ 
* ports: php 8.3.22 `[5] <https://www.php.net/ChangeLog-8.php#8.3.22>`__ 
* ports: python 3.11.13 `[6] <https://docs.python.org/release/3.11.13/whatsnew/changelog.html>`__ 

A hotfix release was issued as 25.1.9_2:

* system: fix route status removal buttons
* openvpn: fix server deletion in legacy page



--------------------------------------------------------------------------
25.1.8 (June 12, 2025)
--------------------------------------------------------------------------


This update addresses a few security issues in third party software,
but take note that libxml2 is currently stuck in an old release in
FreeBSD ports that was decided not to be fixed there for the time being.

Dnsmasq receives more improvements as you all explore the limits of the
current implementation and what the software can still offer beyond that.
Thank you for all the good feedback on this front!

The FreeBSD kernel was updated with a number of upstream stable commits
while we get closer to evaulating the jump to a newer FreeBSD release for
25.7.

Lastly, we are preparing for a historic moment: offering privilege separation
for the GUI meaning the web server can stop running as a root user.  This
may still be optional in the next major version, but it makes fixing the
remaining incompatibilities much easier.

Here are the full patch notes:

* system: fix regression in setGroupMembership()
* system: add "Source Networks" option to groups to restrict connectivity to web GUI
* system: remove defunct "sshlogingroup" OpenSSH option because non-admins are no longer permitted shell access
* system: reduce font size in thermal sensors widget tooltip (contributed by indeed-a-genius)
* system: allow access to cached watcher gateway status
* system: implement "force_down" failover support
* system: implement base_bootgrid_table in user, group and priv templates
* system: balance fastcgi servers a bit better
* system: check private key matches provided certificate data
* system: introduce a "wwwonly" user and group and related privilege separation preparations
* interfaces: convert bridge configuration to MVC/API
* interfaces: remove unused is_interface_assigned()
* firewall: use CIDR notation for specifying masks to dnctl (contributed by Daniel Tang)
* firewall: improve dummynet_stats.py parsing of mask descriptor lines (contributed by Daniel Tang)
* firewall: exclude interfaces with local links only when generating force gateway rules
* firewall: fix missing lock while refactoring config for group changes
* firewall: properly synchronize load order for shaper when reloading configuration
* firewall: add toggle log command in automation
* firewall: since bogons source writes a comment first prefix our exclusions too
* firewall: tighten address / range validation for aliases
* firewall: align alias tokenizer options with the ones in our base template
* captive portal: align accounting session timeout with API
* captive portal: balance fastcgi servers a bit better
* captive portal: do not share a fastcgi socket with web GUI
* dnsmasq: add missing constraint and fix template for boot options
* dnsmasq: reload filter on service reload
* dnsmasq: add command in leases view to create DHCP reservations
* dnsmasq: hide static mode in DHCP range in advanced mode
* dnsmasq: set default to empty lease time for DHCP hosts to allow for defaults
* dnsmasq: add "no-resolv" option to prevent use of system defined DNS servers
* dnsmasq: validate IP address usage for DHCP registrations
* dnsmasq: add validation preventing end address to be empty for IPV4 non-static ranges
* dnsmasq: when "dhcp-fqdn" is active, set all DHCP domains as local
* dnsmasq: add checkbox to hosts that can set domains as local
* dnsmasq: allow either empty IP or empty hostname for DHCP hosts
* dnsmasq: fix wildcard host handling
* dnsmasq: add overlay to conditionally remove values based on DHCP option type
* ipsec: add "cacert" option in remote auth section and allow spaces and wildcards in id fields
* ipsec: be more verbose when modifying SPDs
* isc-dhcp: show tracking interfaces when enabled and offer an explicit disable
* kea-dhcp: add static_routes validation (contributed by Dr. Uwe Meyer-Gruhl)
* openvpn: remove deprecated use of is_interface_assigned() in legacy client/server
* unbound: remove "inplace" in chained assignment (contributed by dstapa)
* mvc: deny whitespaces, asterisks and slashes in HostnameField
* mvc: support array response type in session->get()
* plugins: os-caddy 2.0.1 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* plugins: os-crowdsec 1.0.10 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/security/crowdsec/pkg-descr>`__ 
* plugins: os-sunnyvalley 1.5 switches mirror domain
* src: pf: explicitly NULL state key pointers
* src: pf: fix panic in pf_return()
* src: pf: do not use state keys after pf_state_insert()
* src: netlink, socket, sctp, tcp, udp: assorted upstream stable changes
* src: in6_control_ioctl: correctly report errors from SIOCAIFADDR_IN6
* src: axgbe: add support for Yellow Carp Ethernet device
* src: dhclient: keep two clocks
* src: rtw88, rtw89: merge Realtek driver based on Linux v6.14
* src: iwlwififw: remove Intel iwlwifi firmware from src.git
* ports: curl 8.14.0 `[3] <https://curl.se/changes.html#8_14_0>`__ 
* ports: kea 2.6.3 `[4] <https://downloads.isc.org/isc/kea/2.6.3/Kea-2.6.3-ReleaseNotes.txt>`__ 
* ports: python fix for CVE-2025-4516 `[5] <https://github.com/python/cpython/pull/134341>`__ 

A hotfix release was issued as 25.1.8_1:

* kea-dhcp: fix fatal socket path refusal in new Kea release



--------------------------------------------------------------------------
25.1.7 (May 19, 2025)
--------------------------------------------------------------------------


Dnsmasq DHCP is here and now it is going to be even better with multiple
fixes thanks to the swift feedback we received.  We are aware of the
complex topic of DHCP in the recent years so keep in mind we added Dnsmasq
to fill a specific need for smaller installations that other services cannot
offer.  There are still areas where Kea shines so having both options is
the best way forward.

Here are the full patch notes:

* system: safeguard local_group_set() since users may not exist for valid reasons
* interfaces: emulate device name return in ifconfig edge case for legacy_interface_create()
* interfaces: cleanup spurious functions regarding VIP access
* interfaces: interfaces: improve private and bogon network filters (contributed by Maurice Walker)
* interfaces: consider tracked interfaces linked devices on reload
* firewall: add ability to specify IPv6 pipe and queue masking using the src-ip6/dst-ipv6 specifiers (contributed by Daniel Tang)
* firewall: use shared base_bootgrid_table and base_apply_button in shaper
* captive portal: restore the logging of drop reasons
* captive portal: fix last_accessed being cached from previous entries if N/A
* captive portal: mark alias as type external for use in rules
* dnsmasq: offer all DHCP options via IANA specification
* dnsmasq: allow "static" setting on IPv6 ranges
* dnsmasq: do not create entries in dnsmasq-hosts file for dhcp-host entries
* dnsmasq: prefix length is required when a lease-time is set due to the parsing order
* dnsmasq: split up "hwaddr" and "iaid" for DHCPv6 leases and expose them in the leases overview
* dnsmasq: add missing dhcp-boot to template
* dnsmasq: add interface tag to dhcp-boot options
* dnsmasq: reverse rebind check
* dnsmasq: remove superfluous escape in conf-dir directive
* dnsmasq: allow lease time 0 to set "infinite"
* dnsmasq: add protocol selectpicker to leases view
* dnsmasq: domain to host migration for hosts
* dnsmasq: allow multiple tags per dhcp-boot
* kea-dhcp: fix parsing both address families in static mappings
* kea-dhcp: translate reservation MAC address when dash is used
* kea-dhcp: add advanced options (pd-)allocator in DHCPv6
* ipsec: attr 28673 previously rendered as 1 instead of strongswan default "yes"/"no" for a boolean
* openvpn: add port-share as advanced feature
* openvpn: add (push) block-ipv6 option
* backend: use the new errors:no instead of "exit 0" in actions
* mvc: add contribDir to app config (contributed by Freddie Sackur)
* mvc: show versions on migration failure for clarity
* mvc: safeguard JsonKeyValueStoreField->setSourceField()
* mvc: add static $internalStaticChildren in classes extending ArrayField
* plugins: os-beats 1.0 (contributed by Maxime Thiebaut)
* plugins: os-c-icap 1.8 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/www/c-icap/pkg-descr>`__ 
* plugins: os-caddy 2.0.0 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* plugins: os-postfix 1.24 `[3] <https://github.com/opnsense/plugins/blob/stable/25.1/mail/postfix/pkg-descr>`__ 
* plugins: os-radsecproxy 1.1 `[4] <https://github.com/opnsense/plugins/blob/stable/25.1/net/radsecproxy/pkg-descr>`__ 
* ports: dhcp6c 20250513 fixes spawning multiple instances
* ports: monit 5.35.2 `[5] <https://mmonit.com/monit/changes/>`__ 
* ports: nss 3.111 `[6] <https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_111.html>`__ 
* ports: perl 5.40.2 `[7] <https://perldoc.perl.org/5.40.2/perldelta>`__ 
* ports: pftop 0.13
* ports: php 8.3.21 `[8] <https://www.php.net/ChangeLog-8.php#8.3.21>`__ 
* ports: syslog-ng 4.8.2 `[9] <https://github.com/syslog-ng/syslog-ng/releases/tag/syslog-ng-4.8.2>`__ 

A hotfix release was issued as 25.1.7_2:

* dnsmasq: create static host entries for all except partial IPv6 addresses
* kea-dhcp: correct static mapping returns for IPv6 addresses

A hotfix release was issued as 25.1.7_4:

* dnsmasq: fix physical interface in dhcp-boot
* ipsec: fix ipsec column identifier


--------------------------------------------------------------------------
25.1.6 (May 08, 2025)
--------------------------------------------------------------------------


After some back and forth today we are rolling back a console default
change done in FreeBSD 14.2 that we do not think is necessary at this
particular point in time.  The bridge configuration code was also
refactored to introduce it to MVC/API in an upcoming stable release.

A few more problems with the new captive portal backend have also been
addressed in order to make it match the behaviour of the previous one.
It is now possible to disable the automatic rules to further refine
the desired captive portal behaviour.

Last but not least: Kea DHCPv6 is here.  And with it full DHCP and router
advertisement support in Dnsmasq to bridge the gap for ISC users who do not
need or want Kea.  We are going to make Dnsmasq DHCP the default in new
installations starting with 25.7, too.  ISC DHCP will still be around as
a core component in 25.7 but likely moves to plugins for 26.1 next year.

Here are the full patch notes:

* system: kill gateways states for failback scenario when a higher priority gateway goes back online
* system: update to latest tzdata content for time zones and ISO 3166 definitions
* system: clean up a number of unused functions
* system: refactor a VIP access in auth.inc
* system: add field "boottime" to api/system/systemTime (contributed by eopo)
* reporting: replace insights totals chart with ChartJS variant
* reporting: minor style fixes and cleanups in health graphs
* interfaces: refactor bridge configuration backend
* interfaces: refactor wireless device assignment
* interfaces: allow literal comma by escape sequence in DHCP advanced option modifiers
* interfaces: fix refresh button in ARP page
* interfaces: fix "(de)select all" button in packet capture
* interfaces: rename ip_in_subnet() to reflect it is only for IPv4
* interfaces: remove unused get_vip_descr()
* firewall: prevent source/destination inversion when multiple nets are selected
* firewall: support comma separated alias targets in refactor() call
* firewall: added multi-select for ICMP type
* firewall: update user agent in alias URL fetch
* captive portal: fix display issue for pass rule when client not in zone
* captive portal: allow disabling automatic firewall rules
* captive portal: exclude portal table in destination
* dnsmasq: add full DHCP/RA support
* intrusion detection: fix a log reader regression in the alert view
* ipsec: copy "Split DNS name" to undocumented "25" option
* ipsec: fix more ACLs related to individual IPsec page use
* ipsec: add DH Group 2 for basic Azure VPN gateway compatibility
* ipsec: fix trimming NULL values
* isc-dhcp: use "lease_type" to key lease map in addition to "iaid_duid" (contributed by Alex Goodkind)
* isc-dhcp: fix invalid FQDN generation from DHCPv4 static map domains (contributed by Steven Zimmermann)
* kea-dhcp: add DHCPv6 support
* openvpn: simplify the VIP handling in legacy pages
* backend: support "errors:no" clause on actions
* mvc: allow referencing disabled interfaces in LinkAddressField
* mvc: fix scoping issue in CertificatesField
* plugins: os-ndproxy 1.1 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/net/ndproxy/pkg-descr>`__ 
* plugnis: os-squid 1.2 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/www/squid/pkg-descr>`__ 
* plugins: os-theme-rebellion 1.9.3 (contributed by Team Rebellion)
* plugins: os-turnserver 1.0 (contributed by Frank Wall)
* src: caroot: update the root bundle
* src: openssl: import OpenSSL 3.0.16
* src: daemon: stop rebuilding the kqueue every restart of the child
* src: contrib/expat: update libexpat from 2.6.0 to 2.7.1
* src: contrib/tzdata: import tzdata 2025b
* src: pfctl: fix faulty rule anchor counter print
* src: pfctl: fix recursive printing of NAT rules
* src: pf: Use a macro to get the hash row in pf_find_state_byid()
* src: netinet6: work around synchronization issue in dying netgraph device
* src: wg: Improve wg_peer_alloc() to simplify the calling
* src: bnxt_en: Retrieve maximum of 128 APP TLVs
* src: Revert "amd64 GENERIC: Switch uart hints from isa to acpi"
* ports: curl 8.13.0 `[3] <https://curl.se/changes.html#8_13_0>`__ 
* ports: expat 2.7.1 `[4] <https://github.com/libexpat/libexpat/blob/R_2_7_1/expat/Changes>`__ 
* ports: kea 2.6.2 `[5] <https://downloads.isc.org/isc/kea/2.6.2/Kea-2.6.2-ReleaseNotes.txt>`__ 
* ports: monit 5.35.1 `[6] <https://mmonit.com/monit/changes/>`__ 
* ports: nss 3.110 `[7] <https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_110.html>`__ 
* ports: openssh 10.0p1 `[8] <https://www.openssh.com/txt/release-10.0>`__ 
* ports: php 8.3.20 `[9] <https://www.php.net/ChangeLog-8.php#8.3.20>`__ 
* ports: phalcon 5.9.3 `[10] <https://github.com/phalcon/cphalcon/releases/tag/v5.9.3>`__ 
* ports: python 3.11.12 `[11] <https://docs.python.org/release/3.11.12/whatsnew/changelog.html>`__ 
* ports: unbound 1.23.0 `[12] <https://nlnetlabs.nl/projects/unbound/download/#unbound-1-23-0>`__ 

A hotfix release was issued as 25.1.6_2:

* kea-dhcp: split into multiple id-based services
* kea-dhcp: fix menu for overlapping leases links

A hotfix release was issued as 25.1.6_4:

* dnsmasq: proper handling of the "add_subnet" and "strip_subnet" options
* intrusion detection: fix alert info button


--------------------------------------------------------------------------
25.1.5 (April 10, 2025)
--------------------------------------------------------------------------


This release improves overall RADIUS support, moves the captive portal
from IPFW to PF, creates visibility of external certificate sources in
the system and offers a glimpse into the filter automation GUI revamp
which could one day replace the remaining static firewall rules edit pages.

Speaking of static pages: MVC/API conversions are almost 80% complete now
and we would really like to continue that trend.  Also brace for impact
as we crash-land Dnsmasq DHCP support in a stable release within the next
90 days!

Here are the full patch notes:

* system: extend XMLRPC "nosync" support to keep backup items for new cases
* system: improved RADIUS RFC alignment and use Message Authenticator by default
* system: prevent recursion loop when CAs are cross-referencing each other
* system: fix URL hash in certificate link so redirection shows the correct menu path
* system: fix off by one error due to line ending at the end of a log file
* system: offer config directory to store locations for external certificates and support it in the certificates widget
* system: allow multiple manual DNS search domains
* system: fix gateway watcher backoff
* system: minor code cleanups in auth.inc
* reporting: move NetFlow backend single_pass to command line parameters for easier debugging
* reporting: use client time in traffic dashboard widget
* firewall: automation filter UI revamp
* firewall: fix presentation when alias name overlaps group name
* firewall: fix regression in alias table in JSON format
* firewall: move pipe and queue configuration to "dnctl" service
* firewall: replace update_params for argparse in filter log reader
* captive portal: migrate backend from IPFW to PF
* firmware: ignore dashboard check for updates link automation if user clicks check for updates too
* firmware: fix reboot flag handling due to changed BooleanField default in 25.1.4
* firmware: add cleanup audit script
* ipsec: move mobile clients charon attributes to "Advanced settings"
* ipsec: pre-shared key permission fix
* kea-dhcp: add missing ACL privileges
* kea-dhcp: allow manual configuration for advanced scenarios
* openvpn: add "Enable static challenge (OTP)" option in client export
* openvpn: display virtual IPv6 addresses for clients in dashboard widget (contributed by cs-1 and lucaspalomodevelop)
* router advertisements: fix list of source addresses on overlapping link-locals (contributed by Robin Müller)
* unbound: drop "exclude" phrase from plugin log entry
* unbound: add optional TTL field
* mvc: prefer ui/user_portal above system_usermanager_passwordmg.php in ACLs
* mvc: implement "ignore" field type in forms
* ui: include "all" instead of only "solid" and "brands" Font Awesome styles
* ui: ensure fields stay aligned relatively to another when headers are used in forms
* ui: add fetch_options() which can build grouped selectpickers
* ui: improve and extend Bootgrid behaviour
* plugins: os-caddy 1.8.5 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* plugins: os-sftp-backup 1.1 adds hostname prefix and filedrop-only support (contributed by beposec)
* src: ifconfig: fix reporting optics on most 100g interfaces
* src: igc: fix attach for I226-K and LMVP devices
* src: inpcb: assorted changes for upcoming FIB support
* src: ipfw: fix dump_soptcodes() handler
* src: ixgbe: add support for 1000BASE-BX SFP modules
* src: ixgbe: fix mailbox ack handling
* src: netinet6: add the missing lock acquire to nd6_get_llentry
* src: netinet: fix getcred sysctl handlers to do nothing if no input is given
* src: netinet: if mb_unmapped_to_ext() failed, return directly
* src: netlink: fix getting route scope of interface IPv4 addresses
* src: ovpn: fix use-after-free of mbuf
* src: pf: improve pf_state_key_attach() error handling
* src: pf: only force state failure logging if logging was requested
* src: pfkey2: use correct value for a key length
* src: routing: do not allow PINNED routes to be overriden
* src: sctp: fix double unlock in case adding a remote address fails
* src: tcp: clear sendfile logging struct
* src: udp: do not recursively enter net epoch
* src: wg: remove overly-restrictive address family check
* ports: lighttpd 1.4.79 `[2] <https://www.lighttpd.net/2025/4/4/1.4.79/>`__ 
* ports: openvpn 2.6.14 `[3] <https://community.openvpn.net/openvpn/wiki/ChangesInOpenvpn26#Changesin2.6.14>`__ 
* ports: phalcon 5.9.2 `[4] <https://github.com/phalcon/cphalcon/releases/tag/v5.9.2>`__ 
* ports: py-duckdb 1.2.2 `[5] <https://github.com/duckdb/duckdb/releases/tag/v1.2.2>`__ 

A hotfix release was issued as 25.1.5_1:

* ipsec: fix auth server parsing regression

A hotfix release was issued as 25.1.5_4:

* captive portal: fix regression when NAT reflection is enabled
* captive portal: fix command line argument parsing in backend
* captive portal: remove obsolete interfaces_inbound option that works by default now

A hotfix release was issued as 25.1.5_5:

* captive portal: missing fix for command line argument parsing in backend



--------------------------------------------------------------------------
25.1.4 (March 26, 2025)
--------------------------------------------------------------------------


This update offers support for "jq" syntax in JSON-based URL table
aliases, new OpenVPN instance features and the mandatory batch of
stability improvements in numerous parts of the GUI and backend.

Upcoming in 25.1.5 are better RADIUS integration and enabling message
authentication.  We are also replacing the captive portal implementation
by moving from ipfw(4) to pf(4).  Last but not least the firewall automation
filter rules GUI received a generous revamp for a far better UX than before.
You can preview these changes by switching to the development release type
and let us know about any remaining bug that you may encounter.

Here are the full patch notes:

* system: add "Kill states when down" option to gatways
* system: stop pushing "nextuid" and "nextgid" during XMLRPC
* system: migrate tunables to implicit defaults
* system: secure access to sysctl configuration node
* system: fix RADIUS error check
* system: add "pwd_changed_at" field previously missing in user model
* system: rewire system_usermanager_passwordmg.php to /ui/user_portal for cooperation with the next business edition
* system: default "net.inet.carp.senderr_demotion_factor" tunable to "0"
* system: opnsense-beep: serialize access to /dev/speaker (contributed by Leonid Evdokimov)
* reporting: minor code cleanups in insight backend
* interfaces: move "(de)select all" button to the same row on packet capture page
* interfaces: add ARP address family option to packet capture
* interfaces: fix advanced mode visibility in VIPs
* firewall: performance improvement by using pf overall table stats instead of dumping each table
* firewall: offer better plug-ability for dynamic alias type
* firewall: alias rename action ignored due to missing lock
* firewall: support "jq" processing syntax for JSON-based URL table aliases
* openvpn: use shared base_bootgrid_table and base_apply_button
* openvpn: add support for assorted options `[1] <https://github.com/opnsense/core/pull/8396>`__  (contributed by Marius Halden)
* openvpn: add basic HTTP client option
* router advertisements: move plugin code to its own space
* unbound: move whitelist (passlist) handling to Unbound plugin
* mvc: merge NetworkValidator into NetworkField to ease extensibility and add unit test
* mvc: send audit messages emitted in the authentication sequence to proper channel
* mvc: BooleanField now defaults to "0" on creation
* plugins: os-caddy 1.8.4 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* plugins: os-frr 1.44 `[3] <https://github.com/opnsense/plugins/blob/stable/25.1/net/frr/pkg-descr>`__ 
* plugins: os-theme-cicada 1.39 (contributed by Team Rebellion)
* plugins: os-theme-tukan 1.29 (contributed by Team Rebellion)
* plugins: os-theme-vicuna 1.49 (contributed by Team Rebellion)
* ports: dnsmasq 2.91 `[4] <https://www.thekelleys.org.uk/dnsmasq/CHANGELOG>`__ 
* ports: expat 2.7.0 `[5] <https://github.com/libexpat/libexpat/blob/R_2_7_0/expat/Changes>`__ 
* ports: lighttpd 1.4.78 `[6] <https://www.lighttpd.net/2025/3/22/1.4.78/>`__ 
* ports: pecl-radius now offers message authenticator support (scheduled to be enabled with 25.1.5)
* ports: phalcon 5.9.0 `[7] <https://github.com/phalcon/cphalcon/releases/tag/v5.9.0>`__ 
* ports: php 8.3.19 `[8] <https://www.php.net/ChangeLog-8.php#8.3.19>`__ 
* ports: py-duckdb 1.2.1 `[9] <https://github.com/duckdb/duckdb/releases/tag/v1.2.1>`__ 
* ports: py-jq 1.8.0 `[10] <https://github.com/mwilliamson/jq.py/blob/master/CHANGELOG.rst>`__ 
* ports: suricata 7.0.10 `[11] <https://suricata.io/2025/03/25/suricata-7-0-10-released/>`__ 

A hotfix release was issued as 25.1.4_1:

* backend: restore missing Python module



--------------------------------------------------------------------------
25.1.3 (March 11, 2025)
--------------------------------------------------------------------------


This time around a patch from OpenBSD has been added that fixes the
state tracking for ICMPv6 neighbour discovery packets through pf.  The
user management gained a CSV import/export.  Also, the bug of the missing
PPP logs has been fixed in the upstream MPD package.

Please note that the FRR plugin now uses the new configuration file
layout mandated by upstream and also gained reload support.

Since Google Drive is being phased out by Google, a new plugin now
covers backups via SFTP.  The old Google Drive backup functionality
will move to plugins in 25.7 since it will only be useful for existing
installs.

Here are the full patch notes:

* system: implement user CSV import/export functionality (sponsored by: m.a.x. it)
* system: switch boot logo and MOTD to the new-style logo (contributed by Gavin Chappell)
* system: migrate "default" tunable value to empty one and improve UX
* system: bring back user/group audit messages lost in MVC conversion
* system: replace legacy service widget hook with a proper configd call
* interfaces: use shared base_bootgrid_table and base_apply_button where possible
* interfaces: remove obsolete code in get_real_interfaces() to match getRealInterface()
* interfaces: improve validation for CARP/proxy ARP VIP
* interfaces: remove defunct "other" VIP type
* interfaces: skip "nosync" processing on VIPs
* firewall: support partial alias exports
* kea-dhcp: use shared base_bootgrid_table and base_apply_button
* network time: move XMLRPC definition to correct file
* openvpn: add DCO validation for fragment size
* unbound: use shared base_bootgrid_table and base_apply_button
* unbound: fix model migration pertaining to "dots" model changes
* wireguard: use shared base_bootgrid_table and base_apply_button
* backend: allow pluginctl to filter on -x/-X option
* mvc: decode HTML tags in menu items
* mvc: fix unit tests for model relation fields
* plugins: os-caddy 1.8.3 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* plugins: os-dmidecode 1.2 adds new dashboard widget (contributed by Neil Merchant)
* plugins: os-frr 1.43 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/net/frr/pkg-descr>`__ 
* plugins: os-intrusion-detection-content-pt-open 1.0 (contributed by kulikov-a)
* plugins: os-sftp-backup 1.0 allows configuration backups over SFTP
* plugins: os-zabbix-agent 1.15 `[3] <https://github.com/opnsense/plugins/blob/stable/25.1/net-mgmt/zabbix-agent/pkg-descr>`__ 
* plugins: os-zabbix-proxy 1.12 `[4] <https://github.com/opnsense/plugins/blob/stable/25.1/net-mgmt/zabbix-proxy/pkg-descr>`__ 
* src: carp: fix checking IPv4 multicast address
* src: icmp: use per rate limit randomized jitter
* src: ixgbe: fix a logic error in ixgbe_read_mailbox_vf()
* src: netinet6: do not forward to the unspecified address
* src: netinet: do not forward or ICMP response to INADDR_ANY
* src: netinet: ipsec and ktls cannot coexists
* src: pf: align sanity checks for pfrw_free
* src: pf: allow all forms of neighbor advertisements in either direction
* src: pf: cleanup leftover PF_ICMP_MULTI_\* code that is not needed anymore
* src: pf: do not keep state when dropping overlapping IPv6 fragments
* src: pf: drop IPv6 packets built from overlapping fragments in pf reassembly
* src: pf: fix fragment hole count
* src: sysctl: enable vnet sysctl variables to be loader tunable
* ports: mpd default logging level increased to LOG_NOTICE
* ports: nss 3.109 `[5] <https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_109.html>`__ 
* ports: pftop 0.12
* ports: py-jinja 3.1.6 `[6] <https://jinja.palletsprojects.com/en/stable/changes/#version-3-1-6>`__ 



--------------------------------------------------------------------------
25.1.2 (February 28, 2025)
--------------------------------------------------------------------------


This was supposed to hit earlier this week, but some weeks are like this
one now where QA takes more time than usual.  Of note is the move of Dnsmasq
to MVC and the ChartJS update to version 4 which is bundled with nice updates
for widgets and the system health graphs.

The roadmap for 25.7 was also published `[1] <https://opnsense.org/about/road-map/>`__ .  The IPsec and OpenVPN legacy
parts will move to the plugins so that the functionality can live there
in community support tier.  Since Kea remains a bit of an odd choice we will
be offering DHCP support via Dnsmasq as a new standard feature which also
offers seamless DHCP lease registration some people keep looking for.

Here are the full patch notes:

* system: adjust gateway widget to use the intended caching mechanism
* system: thermal sensors widget can now select individual sensors to display plus UX changes
* system: handle dev.pchtherm temperatures in the thermal dashboard widget (contributed by Joe Roback)
* system: use new apply button partial in tunables page
* system: move high availability option "disable preempt" to advanced mode
* system: straighten out syslog-ng rc.d scripting
* reporting: switch health graphs to ChartJS
* interfaces: add "nosync" option to VIPs and fix sync conditional
* interfaces: exclude automatic radvd like we do for manual
* firewall: properly unpack multiple source/destination items in the rules page
* firewall: hide internal aliases to align with previous legacy_list_aliases() function
* firewall: add missing "persist" on bogonsv6
* captive portal: urlencode() selector items in voucher group list
* dhcrelay: integrate layout_partials bootgrid/apply
* dnsmasq: migrate existing frontend to MVC/API
* ipsec: add deprecation notices for legacy components (will move to plugins)
* kea-dhcp: add "v6-only-preferred" option (contributed by darses)
* openvpn: add deprecation notices for legacy components (will move to plugins)
* openvpn: support "password first" for static-challenges
* unbound: add support for forward-first when configuring forwarders (contributed by Nigel Jones)
* wireguard: change tracking of peer status, improve widget and diagnostic
* backend: add an "import" rc.syshook facility
* backend: change the "monitor" rc.syshook facility and de-deprecate its use
* backend: remove unused functions and move once-used functions to their call script
* mvc: wrap locks around updates and perform some minor cleanups in ApiMutableModelControllerBase
* mvc: move "lazy loading" option to base model implementation and force usage on run_migrations.php
* mvc: safeguard checkToken() to prevent fetching an non existing POST item
* ui: upgrade ChartJS to v4
* ui: change backdrop background color to black in dark theme
* ui: create a unified layout partial for the apply button
* plugins: adjust all themes for ChartJS 4 use
* plugins: treat empty string like null on argument map
* plugins: os-acme-client 4.9 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/security/acme-client/pkg-descr>`__ 
* src: ipfw: make "ipfw show" output compatible with "ipfw add" command
* src: pf: stop using net_epoch to synchronize access to eth rules
* src: e1000: fix vlan PCP/DEI on lem(4)
* src: igc: remove unused register IGC_RXD_SPC_VLAN_MASK
* src: ifnet: detach BPF descriptors on interface vmove event
* src: libkern: add ilog2 macro et al
* src: ipfw: add missing initializer for "limit" table value
* src: pf: add extra SCTP multihoming probe points
* src: pf: verify SCTP v_tag before updating connection state
* src: pf: verify that ABORT chunks are not mixed with DATA chunks
* src: pf: allow ICMP messages related to an SCTP state to pass
* src: pf: add "allow-related" to always allow SCTP multihome extra connections
* src: bpf: fix potential race conditions
* src: net: if_media for 100BASE-BX
* src: rtw89: update Realtek rtw88/rtw89 driver et al
* src: net80211: 11ac: add options to manage VHT STBC
* src: ifconfig: make -vht work
* src: iwlwifi: update Intel iwlwifi/mvm driver et al
* src: ixgbe: add ixgbe_dev_from_hw() back
* ports: ca_root_nss / nss 3.108 `[3] <https://firefox-source-docs.mozilla.org/security/nss/releases/nss_3_108.html>`__ 
* ports: curl 8.12.1 `[4] <https://curl.se/changes.html#8_12_1>`__ 
* ports: openssh 9.9p2 `[5] <https://www.openssh.com/txt/release-9.9p2>`__ 
* ports: php 8.3.17 `[6] <https://www.php.net/ChangeLog-8.php#8.3.17>`__ 
* ports: py-duckdb 1.2.0 `[7] <https://github.com/duckdb/duckdb/releases/tag/v1.2.0>`__ 



--------------------------------------------------------------------------
25.1.1 (February 12, 2025)
--------------------------------------------------------------------------


Here we are with further refinements to 25.1 and it is looking
pretty well so far.  Included are the recent FreeBSD security
advisories and the OpenSSL 3.0.16 which came out just yesterday.

The roadmap for 25.7 is being worked on at the moment and should
be ready for publication next week / release.

Here are the full patch notes:

* system: exclude pchtherm thresholds temperature thresholds
* system: regression in groupAllowed() as values are now comma-separated
* system: update button wording on new HA status page
* reporting: fix missing typecast in epoch range for DNS statistics
* interfaces: fix undefined array key warnings in DHCP client setup (contributed by Ben Smithurst)
* interfaces: remove "hellotime" configuration leftover of recent bridge cleanup
* firmware: opnsense-update: fix failure to clean up the working directory
* firmware: opnsense-update: support -B and -K with -c option check
* firmware: opnsense-update: let -u skip already installed packages set
* firmware: kernel may not be pending so be sure to check on upgrade attempt
* firmware: add an upgrade test for wrong pkg repository
* firmware: revoke 24.7 fingerprint
* captive portal: fix missing class import
* captive portal: partially revert new lighttpd TLS defaults
* ipsec: fix glob pattern for advanced configuration banner
* monit: revert "wrap exec in double quotes to allow arguments"
* ui: reverted style changes only relevant for the development version
* ui: header image scaling fixes in default light theme
* ui: remove right border from "aside" element in default dark theme
* plugins: os-caddy 1.8.2 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* plugins: os-crowdsec 1.0.9 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/security/crowdsec/pkg-descr>`__ 
* plugins: os-ddclient 1.27 `[3] <https://github.com/opnsense/plugins/blob/stable/25.1/dns/ddclient/pkg-descr>`__ 
* src: pf: send ICMP destination unreachable fragmentation needed when appropriate
* src: pfil: set PFIL_FWD for IPv4 forwarding
* src: if_vxlan: use static initializers
* src: if_vxlan: prefer SYSCTL_INT over TUNABLE_INT
* src: if_vxlan: invoke vxlan_stop event handler only when the interface is configured
* src: pf: force logging if pf_create_state() fails
* src: tarfs: fix the size of struct tarfs_fid and add a static assert
* src: ext2fs: fix the size of struct ufid and add a static assert
* src: cd9660: make sure that struct ifid fits in generic filehandle structure
* src: tzdata: import tzdata 2025a
* src: audit: fix short-circuiting in syscallenter()
* src: ktrace: fix uninitialized memory disclosure]
* src: netinet: enter epoch in garp_rexmit()
* ports: curl 8.12.0 `[4] <https://curl.se/changes.html#8_12_0>`__ 
* ports: monit 5.34.4 `[5] <https://mmonit.com/monit/changes/>`__ 
* ports: openssl 3.0.16 `[6] <https://github.com/openssl/openssl/blob/openssl-3.0/CHANGES.md>`__ 
* ports: pcre2 10.45 `[7] <https://github.com/PCRE2Project/pcre2/releases/tag/pcre2-10.45>`__ 
* ports: php 8.3.16 `[8] <https://www.php.net/ChangeLog-8.php#8.3.16>`__ 



--------------------------------------------------------------------------
25.1 (January 29, 2025)
--------------------------------------------------------------------------


For an entire decade now, OPNsense is driving innovation through
modularising and hardening the open source firewall, with simple
and reliable firmware upgrades, multi-language support, fast adoption
of upstream software updates as well as clear and stable 2-Clause BSD
licensing.

25.1, nicknamed "Ultimate Unicorn", features numerous MVC/API conversions,
improved security zones support and documentation, ZFS snapshot support,
a new UI look with a light and dark theme, PHP 8.3, FreeBSD 14.2 plus much
more.

Download links, an installation guide `[1] <https://docs.opnsense.org/manual/install.html>`__  and the checksums for the images
can be found below as well.

* Europe: https://opnsense.c0urier.net/releases/25.1/
* US East Coast: https://mirror.wdc1.us.leaseweb.net/opnsense/releases/25.1/
* US West Coast: https://mirror.sfo12.us.leaseweb.net/opnsense/releases/25.1/
* South America: http://mirror.ueb.edu.ec/opnsense/releases/25.1/
* East Asia: https://mirror.ntct.edu.tw/opnsense/releases/25.1/
* Full mirror list: https://opnsense.org/download/

Here are the full patch notes against version 24.7.12:

* system: migrate user, group and privilege management to MVC/API
* system: remove the "disable integrated authentication" feature
* system: add "Default groups" option to add standard groups when a LDAP/RADIUS user logs in
* system: remove the old manual LDAP importer
* system: migrate HA status page to MVC/API
* system: allow custom additions to sshd_config (contributed by Neil Greatorex)
* system: increase max-request-field-size for web GUI
* system: set tunable default for checksum offloading of the vtnet(4) driver to disabled (contributed by Patrick M. Hausen)
* system: add support for RFC 5549 routes and refactor static route creation code
* system: improve notification support to also allow persistent notifications and static banners
* system: add notifications for low disk space and OpenSSH file override use
* system: migrate tunables page to MVC/API
* system: switch to temperature sensor caching
* system: add certificate widget to track expiration dates and allow quick renewal
* system: remove deprecated "page-getserviceprovider", "page-dashboard-all" and "page-system-groupmanager-addprivs" privileges
* system: replace file_get_contents() with curl implementation in XMLRPC sync and add verifypeer option
* system: add item edit links to several dashboard widgets
* system: prioritize index page and prevent redirection to a /api page on login
* system: mute disk space status in case of live install media
* system: optimize system status collection
* interfaces: adhere to DAD during VIP recreation in rc.newwanipv6
* interfaces: remove non-functional features from bridges
* interfaces: remove PPP edit in interfaces settings
* interfaces: batched device type creation under "Devices" submenu
* interfaces: move PPP and wireless logs to system log
* interfaces: remove "Use IPv4 connectivity" setting as it will be set by default
* firewall: use "skip lo0" instead of policing lo0 explicitly following OpenBSD best practice
* firewall: remove duplicate table definition and make sure bogonsv6 table always exists
* firewall: cleanup of CARP and IPv6 rules behaviour
* firewall: filter feature parity in automation rules
* firewall: offer multi-select on source and destination addresses
* firewall: add experimental inline shaper support to filter rules
* firewall: add missing columns on one-to-one NAT page
* firewall: fix unassociated rule creation
* firewall: fix anti-lockout and "allow access to DHCP failover" automatic rules
* firewall: add optional authorization for URL type aliases
* firewall: add "URL Table in JSON format (IPs)" alias type
* dnsmasq: update ICANN Trust Anchor (contributed by Loganaden Velvindron)
* firmware: fix "r" abbreviation vs. version_compare();
* installer: fixed missing prompt and help text in ZFS disk selection
* installer: warn on low RAM for ZFS as well
* installer: added a power off option
* intrusion detection: policy content dropdown missing data-container
* intrusion detection: cleanse metadata for brackets
* ipsec: add log search button in sessions
* ipsec: add banner message when using custom configuration files
* kea-dhcp: add "match-client-id" in subnet definitions
* lang: update available translations
* monit: wrap exec in double quotes to allow arguments (contributed by Nikita Uvarov)
* monit: flag file overwrites when they exist
* network time: take IPv6 addresses into account
* network time: remove support for explicit VIP selection
* openvpn: add validation pertaining to auth-gen-token and reneg-sec combinations
* unbound: cleanup available blocklists and add hagezi blocklists
* unbound: fix root.hits permission on copy
* unbound: flag file overwrites when they exist
* backend: -m option is unused so remove its complication
* mvc: implement reusable grid template using form definitions
* mvc: add Default() method to reset a model to its factory defaults
* mvc: fix LegacyMapper when the mount point is not the XML root
* mvc: move explicit cast in BaseModel when calling field->setValue()
* mvc: fields should implement getCurrentValue() rather than __toString()
* mvc: fix value lookup in LinkAddressField
* mvc: memory preservation fix in BaseListField
* mvc: support lazy loading on alias models and use it in NetworkAliasField
* mvc: fix NetworkValidator for IPv4-mapped addresses with netmask (contributed by John Fieber)
* ui: upgrade Font Awesome icons to version 6
* ui: push search/edit logic towards bootgrid implementation
* ui: improved links with automatic edit and/or search
* ui: rewritten default theme for a light look and new logo
* ui: added default theme variant with a dark look
* plugins: turning binary data into JSON may fail globally
* plugins: os-acme-client 4.8 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/security/acme-client/pkg-descr>`__ 
* plugins: os-caddy 1.8.1 `[3] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 
* plugins: os-cpu-microcode 1.1 removes unneeded late loading code
* plugins: os-haproxy 4.5 `[4] <https://github.com/opnsense/plugins/blob/stable/25.1/net/haproxy/pkg-descr>`__ 
* plugins: os-tailscale 1.2 `[5] <https://github.com/opnsense/plugins/blob/stable/25.1/security/tailscale/pkg-descr>`__ 
* src: FreeBSD 14.2-RELEASE `[6] <https://www.freebsd.org/releases/14.2R/relnotes/>`__ 
* src: p9fs: add an implementation of the 9P filesystem
* ports: lighttpd 1.4.77 `[7] <https://www.lighttpd.net/2025/1/10/1.4.77/>`__ 
* ports: openvpn 2.6.13 `[8] <https://community.openvpn.net/openvpn/wiki/ChangesInOpenvpn26#Changesin2.6.13>`__ 
* ports: php 8.3.15 `[9] <https://www.php.net/ChangeLog-8.php#8.3.15>`__ 
* ports: radvd 2.20 `[10] <https://radvd.litech.org/>`__ 

Migration notes, known issues and limitations:

* The access management was rewritten in MVC and contains behavioural changes including not rendering UNIX accounts for non-shell users. The integrated authentication via PAM has been the default for a long time so the option to disable it has been removed. The manual LDAP importer is no longer available since LDAP/RADIUS authenticators support on-demand creation and default group setup option. The "page-system-groupmanager-addprivs" privilege was removed since the page does not exist anymore. A multi-purpose privilege editor has been added under the existing "page-system-usermanager-addprivs" instead.
* PPP devices can no longer be configured on the interface settings page. To edit the device settings use the native PPP device edit page instead.
* FreeBSD 14.2 comes with the stock pf(4) behaviour regarding ICMPv6 neighbour discovery state tracking which was avoided so far in 24.7.x.
* Let's Encrypt ends support for the OCSP Must Staple extension on 30.01.2025. Issuance requests will fail if this option is still enabled past this date.

The public key for the 25.1 series is:

.. code-block::

    # -----BEGIN PUBLIC KEY-----
    # MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAsnbyFjWXvUcUC4BqnQ9w
    # uH3yiaG7AY8UzwepXf2TqqOYt5Y0USbse3OBjxYnRs0iW5EHtdKSRcmelup374Hp
    # XDDeQ/mjmhhnvXryfQL57gyVpYeL5gRVhf/2DwEZELLCFUFhMNh52QPaJ5zTvdws
    # m1Q+OwI1WfTDR7ytm+0Too2tVerG3mM3XataZ+XOKwHp2xP0Mr8E4F+PZdR4hWbb
    # yC2elIzICXDWWpcEEg4JT48TIYZJPGnE2IJAzWRntrqVU2eLcEn5MffwTawXNoCZ
    # mvLYqguYskmeR/dAL7ZmZcPeMeibXMtld8xIZp49g7DPq7PqxCY1wxcgeuZPFOHv
    # kbYzL3BHbyni3K/qdLXKzy8oZeUUvlbUgaj8Xx14DSiNzJDknNf0Xg/eby7MkzgP
    # eUXgtB0MRQMih85BfaiH5r+uQMgPKnjutVWR8qUWglxDKIc4s69b8PXylfu2FwiP
    # iKMBdO8xnVvNFKOkuaUtI31cqxauw2hBAlILFvltM+adUz2rfB3Ch0bjfjDE5Hxq
    # En4fEUVHgQCu+Ojyyy3/8RwUpsRZq05fObypyeL3E/MvlwpaOVjwvw2ozVPGi2zi
    # xmXemn5CbgjD3vPR9XERXrFkHTwPnIiqz53znqn34P+NGEgD1veMhZPE6OGZRu/h
    # IfceSaxJ/An5SUh0zr7YgOsCAwEAAQ==
    # -----END PUBLIC KEY-----


.. code-block::

    # SHA256 (OPNsense-25.1-dvd-amd64.iso.bz2) = 68efe0e5c20bd5fbe42918f000685ec10a1756126e37ca28f187b2ad7e5889ca
    # SHA256 (OPNsense-25.1-nano-amd64.img.bz2) = a51e4499df6394042ad804daa8e376c291e8475860343a0a44d93d8c8cf4636e
    # SHA256 (OPNsense-25.1-serial-amd64.img.bz2) = 57c05e935790f9b2b800a19374948284889988741cfbaf6fae7600f7a4451022
    # SHA256 (OPNsense-25.1-vga-amd64.img.bz2) = 89fcf5bdb1d2ea2ea6ba4cdc1268ea0a1e22b944330d7bee0711c8630cc905af


--------------------------------------------------------------------------
25.1.r2 (January 24, 2025)
--------------------------------------------------------------------------


Just a small update to ship the latest changes and fixes.  The anti-lockout
not working was finally addressed.  Thanks for all the valuable feedback on
the forum!

Here are the full patch notes against version 25.1-RC1:

* system: prioritize index page and prevent redirection to a /api page on login
* system: mute disk space status in case of live install media
* system: optimize system status collection
* firewall: add experimental inline shaper support to filter rules
* firewall: add missing columns on one-to-one NAT page
* firewall: fix unassociated rule creation
* firewall: fix anti-lockout and "allow access to DHCP failover" automatic rules
* firewall: add optional authorization for URL type aliases
* installer: fixed missing prompt and help text in ZFS disk selection
* installer: warn on low RAM for ZFS as well
* installer: added a power off option
* intrusion detection: policy content dropdown missing data-container
* intrusion detection: cleanse metadata for brackets
* ipsec: add banner message when using custom configuration files
* monit: flag file overwrites when they exist
* openvpn: add validation pertaining to auth-gen-token and reneg-sec combinations
* unbound: cleanup available blocklists and add hagezi blocklists
* unbound: flag file overwrites when they exist
* mvc: fix NetworkValidator for IPv4-mapped addresses with netmask (contributed by John Fieber)
* plugins: turning binary data into JSON may fail globally
* plugins: os-caddy 1.8.1 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/www/caddy/pkg-descr>`__ 



--------------------------------------------------------------------------
25.1.r1 (January 22, 2025)
--------------------------------------------------------------------------


The 25.1 series is nigh!  This offers images based on an RC1 state with
stable packages and online upgrades for the development version of 24.7.
We will likely release a small RC2 online update in the near future.
The final release date for 25.1 is January 29.

https://pkg.opnsense.org/releases/25.1/

Here are the full patch notes against version 24.7.12:

* system: migrate user, group and privilege management to MVC/API
* system: remove the "disable integrated authentication" feature
* system: add "Default groups" option to add standard groups when a LDAP/RADIUS user logs in
* system: remove the old manual LDAP importer
* system: migrate HA status page to MVC/API
* system: allow custom additions to sshd_config (contributed by Neil Greatorex)
* system: increase max-request-field-size for web GUI
* system: set tunable default for checksum offloading of the vtnet(4) driver to disabled (contributed by Patrick M. Hausen)
* system: add support for RFC 5549 routes and refactor static route creation code
* system: improve notification support to also allow persistent notifications and static banners
* system: add notifications for low disk space and OpenSSH file override use
* system: migrate tunables page to MVC/API
* system: switch to temperature sensor caching
* system: add certificate widget to track expiration dates and allow quick renewal
* system: remove deprecated "page-getserviceprovider", "page-dashboard-all" and "page-system-groupmanager-addprivs" privileges
* system: replace file_get_contents() with curl implementation in XMLRPC sync and add verifypeer option
* system: add item edit links to several dashboard widgets
* interfaces: adhere to DAD during VIP recreation in rc.newwanipv6
* interfaces: remove non-functional features from bridges
* interfaces: remove PPP edit in interfaces settings
* interfaces: batched device type creation under "Devices" submenu
* interfaces: move PPP and wireless logs to system log
* interfaces: remove "Use IPv4 connectivity" setting as it will be set by default
* firewall: use "skip lo0" instead of policing lo0 explicitly following OpenBSD best practice
* firewall: remove duplicate table definition and make sure bogonsv6 table always exists
* firewall: cleanup of CARP and IPv6 rules behaviour
* firewall: filter feature parity in automation rules
* firewall: experimental dummynet support in rules
* firewall: offer multi-select on source and destination addresses
* dnsmasq: update ICANN Trust Anchor (contributed by Loganaden Velvindron)
* ipsec: add log search button in sessions
* kea-dhcp: add "match-client-id" in subnet definitions
* lang: update available translations
* monit: wrap exec in double quotes to allow arguments (contributed by Nikita Uvarov)
* network time: take IPv6 addresses into account
* network time: remove support for explicit VIP selection
* unbound: fix root.hits permission on copy
* backend: -m option is unused so remove its complication
* mvc: implement reusable grid template using form definitions
* mvc: add Default() method to reset a model to its factory defaults
* mvc: fix LegacyMapper when the mount point is not the XML root
* mvc: move explicit cast in BaseModel when calling field->setValue()
* mvc: fields should implement getCurrentValue() rather than __toString()
* mvc: fix value lookup in LinkAddressField
* mvc: memory preservation fix in BaseListField
* mvc: support lazy loading on alias models and use it in NetworkAliasField
* ui: upgrade Font Awesome icons to version 6
* ui: push search/edit logic towards bootgrid implementation
* ui: improved links with automatic edit and/or search
* ui: rewritten default theme for a light look and new logo
* ui: added default theme variant with a dark look
* plugins: os-acme-client 4.8 `[1] <https://github.com/opnsense/plugins/blob/stable/25.1/security/acme-client/pkg-descr>`__ 
* plugins: os-cpu-microcode 1.1 removes unneeded late loading code
* plugins: os-haproxy 4.5 `[2] <https://github.com/opnsense/plugins/blob/stable/25.1/net/haproxy/pkg-descr>`__ 
* src: FreeBSD 14.2-RELEASE `[3] <https://www.freebsd.org/releases/14.2R/relnotes/>`__ 
* src: p9fs: add an implementation of the 9P filesystem
* ports: lighttpd 1.4.77 `[4] <https://www.lighttpd.net/2025/1/10/1.4.77/>`__ 
* ports: openvpn 2.6.13 `[5] <https://community.openvpn.net/openvpn/wiki/ChangesInOpenvpn26#Changesin2.6.13>`__ 
* ports: php 8.3.15 `[6] <https://www.php.net/ChangeLog-8.php#8.3.15>`__ 
* ports: radvd 2.20 `[7] <https://radvd.litech.org/>`__ 

Migration notes, known issues and limitations:

* The access management was rewritten in MVC and contains behavioural changes including not rendering UNIX accounts for non-shell users. The integrated authentication via PAM has been the default for a long time so the option to disable it has been removed. The manual LDAP importer is no longer available since LDAP/RADIUS authenticators support on-demand creation and default group setup option. The "page-system-groupmanager-addprivs" privilege was removed since the page does not exist anymore. A multi-purpose privilege editor has been added under the existing "page-system-usermanager-addprivs" instead.
* PPP devices can no longer be configured on the interface settings page. To edit the device settings use the native PPP device edit page instead.
* FreeBSD 14.2 comes with the stock pf(4) behaviour regarding ICMPv6 neighbour discovery state tracking which was avoided so far in 24.7.x.
* Let's Encrypt ends support for the OCSP Must Staple extension on 30.01.2025. Issuance requests will fail if this option is still enabled past this date.

The public key for the 25.1 series is:

.. code-block::

    # -----BEGIN PUBLIC KEY-----
    # MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAsnbyFjWXvUcUC4BqnQ9w
    # uH3yiaG7AY8UzwepXf2TqqOYt5Y0USbse3OBjxYnRs0iW5EHtdKSRcmelup374Hp
    # XDDeQ/mjmhhnvXryfQL57gyVpYeL5gRVhf/2DwEZELLCFUFhMNh52QPaJ5zTvdws
    # m1Q+OwI1WfTDR7ytm+0Too2tVerG3mM3XataZ+XOKwHp2xP0Mr8E4F+PZdR4hWbb
    # yC2elIzICXDWWpcEEg4JT48TIYZJPGnE2IJAzWRntrqVU2eLcEn5MffwTawXNoCZ
    # mvLYqguYskmeR/dAL7ZmZcPeMeibXMtld8xIZp49g7DPq7PqxCY1wxcgeuZPFOHv
    # kbYzL3BHbyni3K/qdLXKzy8oZeUUvlbUgaj8Xx14DSiNzJDknNf0Xg/eby7MkzgP
    # eUXgtB0MRQMih85BfaiH5r+uQMgPKnjutVWR8qUWglxDKIc4s69b8PXylfu2FwiP
    # iKMBdO8xnVvNFKOkuaUtI31cqxauw2hBAlILFvltM+adUz2rfB3Ch0bjfjDE5Hxq
    # En4fEUVHgQCu+Ojyyy3/8RwUpsRZq05fObypyeL3E/MvlwpaOVjwvw2ozVPGi2zi
    # xmXemn5CbgjD3vPR9XERXrFkHTwPnIiqz53znqn34P+NGEgD1veMhZPE6OGZRu/h
    # IfceSaxJ/An5SUh0zr7YgOsCAwEAAQ==
    # -----END PUBLIC KEY-----

Please let us know about your experience!


.. code-block::

    # SHA256 (OPNsense-25.1.r1-dvd-amd64.iso.bz2) = dbd65194b02dfda2abe0542c8660c5a8d5311719448fbacf8e7e08b260c90e15
    # SHA256 (OPNsense-25.1.r1-nano-amd64.img.bz2) = 1600a1b26114aec1e99653efed1dddf1869bddfa422d8e85ad34a1acf2e3e4fc
    # SHA256 (OPNsense-25.1.r1-serial-amd64.img.bz2) = ff709c926bd097bb52726944cde2c3363386d5062765bd4a75cce9009353f853
    # SHA256 (OPNsense-25.1.r1-vga-amd64.img.bz2) = 9cdb74c9f43f9ee6eb66fbe3ad8b4050938273e053872e063b1bc73cedcd6410


--------------------------------------------------------------------------
25.1.b (December 19, 2024)
--------------------------------------------------------------------------


The 25.1 series will include FreeBSD 14.2 so we are putting this BETA
version out based on the latest development state.  This is not meant
for production use but all plugins are provided and future updates of
installations based on these images will be possible.

https://pkg.opnsense.org/releases/25.1/

There is a bit more work to be done yet most of the milestones have
already been reached.  If you have a test deployment or would like to
check out some of the new features these images are for you.  Together
we can make OPNsense better than it ever was.

The final release date for 25.1 is January 29.  A release candidate
will follow in early January.

Highlights over version 24.7 include:

* system: restructure PPP to accomodate IPv6-only deployments
* system: implement persistent notifications banner
* system: dashboard widget for certificate expiry and renew
* system: high availablilty status MVC/API conversion
* system: users and groups MVC/API conversion
* system: advanced trust settings page
* system: ZFS snapshot GUI
* reporting: RRD health graph refactoring
* firewall: improved security zones support and documentation
* ipsec: advanced settings MVC/API conversion
* unbound: merge domain overrides into query forwarding
* ui: theme update with new styling and add official dark theme
* src: FreeBSD 14.2

The public key for the 25.1 series is:

.. code-block::

    # -----BEGIN PUBLIC KEY-----
    # MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAsnbyFjWXvUcUC4BqnQ9w
    # uH3yiaG7AY8UzwepXf2TqqOYt5Y0USbse3OBjxYnRs0iW5EHtdKSRcmelup374Hp
    # XDDeQ/mjmhhnvXryfQL57gyVpYeL5gRVhf/2DwEZELLCFUFhMNh52QPaJ5zTvdws
    # m1Q+OwI1WfTDR7ytm+0Too2tVerG3mM3XataZ+XOKwHp2xP0Mr8E4F+PZdR4hWbb
    # yC2elIzICXDWWpcEEg4JT48TIYZJPGnE2IJAzWRntrqVU2eLcEn5MffwTawXNoCZ
    # mvLYqguYskmeR/dAL7ZmZcPeMeibXMtld8xIZp49g7DPq7PqxCY1wxcgeuZPFOHv
    # kbYzL3BHbyni3K/qdLXKzy8oZeUUvlbUgaj8Xx14DSiNzJDknNf0Xg/eby7MkzgP
    # eUXgtB0MRQMih85BfaiH5r+uQMgPKnjutVWR8qUWglxDKIc4s69b8PXylfu2FwiP
    # iKMBdO8xnVvNFKOkuaUtI31cqxauw2hBAlILFvltM+adUz2rfB3Ch0bjfjDE5Hxq
    # En4fEUVHgQCu+Ojyyy3/8RwUpsRZq05fObypyeL3E/MvlwpaOVjwvw2ozVPGi2zi
    # xmXemn5CbgjD3vPR9XERXrFkHTwPnIiqz53znqn34P+NGEgD1veMhZPE6OGZRu/h
    # IfceSaxJ/An5SUh0zr7YgOsCAwEAAQ==
    # -----END PUBLIC KEY-----

Please let us know about your experience!


.. code-block::

    # SHA256 (OPNsense-devel-25.1.b-dvd-amd64.iso.bz2) = 7a9a5eacc65f7128273558c7e5f4cf63e555004d4d938fb827280cf691fc1cfd
    # SHA256 (OPNsense-devel-25.1.b-nano-amd64.img.bz2) = 83b3a9b599477773b8f4877bf8c4a38436895477fef91a0dbfabdbfdbb7be2c3
    # SHA256 (OPNsense-devel-25.1.b-serial-amd64.img.bz2) = 57d087cf66d168338de4a611871c31813b3e42bb71d7b71be75aa20521c6d8a1
    # SHA256 (OPNsense-devel-25.1.b-vga-amd64.img.bz2) = 5bc51cc93bc64cc15d6fa68611d3cee4cf45b70b85e713cbdd3c0c8d2ebd4137
